$(".srcBand").on("click",".taskLink",function(a){var b=$(a.target),c=b.hasClass("taskLink")?b:b.parents(".taskLink"),d={offset:0,limit:3};c.find(".searchBody").removeClass("nScrollable").addClass("nScroll").html(""),customScroll.init(),processedTaskList(c,d),$(".searchBody div").on("scroll",function(){var a=$(this);debounceCallbackForTask(a)})}),$(".trakerUrl").on("mouseenter",function(a){if($(this).siblings(".tooltipLink").show(),"hfdp"==pageName){var b=searchData.simcvsid?searchData.simcvsid:searchData.sid,c=hiringForDetails.id;$(this).attr("href","/v2/hiringFor/tracker?hiringForIds="+c+"&sid="+b+"&pageSource="+pageName+"&action="+hfAction+"&type="+hfType+"&tagType="+hfTagType)}}).on("mouseleave",function(a){$(this).siblings(".tooltipLink").hide()}),$(".srcBand").on("focus",".recentSearchLink,.taskLink",function(){}),$(".srcBand").on("blur",".recentSearchLink,.taskLink",function(){_t=$(this),_t.find("ul").slideUp()}),$(".srcBand").on("click",".recentSearchLink",function(a){procesedSearchList($(this))});var generateDate=function(a){var a,b=a?a.replace(" ","T"):new Date,c=new Date(b),d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return a=c.getDate()+" "+d[c.getMonth()]+" "+c.getFullYear()},getDataTasknSearch=function(a,b){var c="";return $.ajax({url:a,contentType:"application/json",headers:{Accept:"application/json",clientId:"desktop"},type:"GET",data:b,async:!1,success:function(a,b,d){200==d.status&&(c=a)},error:function(a,b,d){var e=a.responseJSON.error,f=e.customData||"error",g=f.errorCode;switch(e.status){case 401:178!=g&&189!=g||(window.location.href=loginUrl+window.location.href);break;case 403:183==g&&(window.location.href=loginUrl+window.location.href);break;case 404:c=[];break;default:$("#comErrCnt").removeClass("green blue yellow").addClass("red").show().find("#commonErr").html("Due to some technical issue, your request could not be processed. Please try again in a few minutes.")}}}),c},getTaskOnScroll=function(a){var b=a,c=a.parents(".taskLink"),d=(c.find(".taskBottom"),c.attr("data-taskCount"));if(b.scrollTop()+b.innerHeight()>=b[0].scrollHeight){var e=c.find(".infoDD").length,f={offset:e,limit:e+3};d>e&&processedTaskList(c,f)}},debounceNotification=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}},formatAMPM=function(a){var b=a.getHours(),c=a.getMinutes(),d=b>=12?"pm":"am";return b%=12,b=b||12,c=c<10?"0"+c:c,b+":"+c+" "+d},processedTaskList=function(a,b){var c=a,d=c.attr("data-hiringid"),e=baseAPIUrl+"/resdex/v1/hiringfor/"+d+"/tasks",b=b,f=getDataTasknSearch(e,b),g=c.find(".searchBody"),h=c.find("ul"),i="";f.length&&(i=f.map(function(a,b){var a=a.taskData,c=a.dueDate.replace(" ","T"),d=new Date(c),e=formatAMPM(d),f=d.getDate(),g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],h=g[d.getMonth()];d.getFullYear();return'<a class="infoDD clFx" target="_blank" href="'+a.landingUrl+"?id="+a.id+"&context="+a.contex+"&contextSource="+a.contextSource+'">\n        <div class="time fl">\n          <p><span class="dDay">'+f+'</span><span class="dMonth">'+h+'</span></p>\n          <p><span class="dTime">'+e+'</span></p>\n        </div>\n        <div class="info fl">\n          <p class="headHfName elps" title="'+a.description+'">'+a.description+'</p>\n          <p class="metaData">by '+a.creatorName+" on "+generateDate(a.createDate)+"</span></p>\n        </div>\n      </a>"}).join("")),h.show(),g.show().find(".matchParent.content").append(i)},debounceCallbackForTask=debounceNotification(function(a){getTaskOnScroll(a)},200),procesedSearchList=function(a){var b=a,c="hfdp"==pageName?hiringForDetails.id:hfStateData.id,d=baseAPIUrl+"/resdex/v1/hiringfor/"+c+"/searches",e={start:0,count:3},f=getDataTasknSearch(d,e);if(f.length)var g=1,h=f.map(function(a,b){var c,d="saved"==a.type,e=a.id;return a.name?c=a.name:(c="Recent Search "+parseInt(g),g++),'<li class="infoDD">\n                      <p class="headHfName elps" title="'+c+'">'+c+'</p>\n                      <span class="searchLink">\n                        <a target="_blank" href="'+(d?baseUrl+"/search/modifySearchAgent?agentid="+e+"&modify_savedsearch=update":baseUrl+"/search/advSearch?sid="+e)+'">FILL</a>\n          <a target="_blank" href="'+(d?baseUrl+"/search/savedSearchResults?agentid="+e+"&modify_savedsearch=false":baseUrl+"/search/pageChange?sid="+e)+'">SEARCH</a>\n                      </span>\n                   </li>'}).join("");else h='<div class="searchBody">\n                        <div class="noResultDiv">No Recent/Saved Searches</div>\n                        </div>';var i='<div class="header">Recent/Saved Search</div>\n                                 <div class="searchBody">\n                                  '+h+"\n                                 </div>";b.find("ul").show().html(i)};